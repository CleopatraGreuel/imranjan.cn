import{_ as b}from"./Cs0ylA1V.js";import{_ as h,r as l,e as y,n as T,g as L,h as x,i as V,j as w,c as u,o as m,a as t,F as E,k,l as $,t as A,p as _,u as C,b as p,d as f}from"./CqSJX0oL.js";import"./BY4wecBf.js";const R={class:"welcome-message-container"},B={class:"typewriter-container"},M={class:"welcome-text"},v="欢迎访问imranjan.cn",N={__name:"WelcomeMessage",setup(g){const s=l([...v]),a=l(new Array(v.length).fill(!1)),n=l(!1),i=()=>{n.value||(n.value=!0,a.value=new Array(v.length).fill(!1),s.value.forEach((o,e)=>{setTimeout(()=>{a.value[e]=!0,e===s.value.length-1&&setTimeout(()=>{n.value=!1},500)},e*100)}))},d=()=>{document.hidden||setTimeout(()=>{i()},300)};return y(async()=>{await T(),document.fonts&&await document.fonts.ready,setTimeout(()=>{i()},200),document.addEventListener("visibilitychange",d),L();const o=x();V(()=>o.path,e=>{e==="/"&&setTimeout(()=>{i()},300)})}),w(()=>{document.removeEventListener("visibilitychange",d)}),(o,e)=>(m(),u("div",R,[t("div",B,[t("div",M,[(m(!0),u(E,null,k(s.value,(c,r)=>(m(),u("span",{key:`char-${r}`,class:$(["welcome-char",{visible:a.value[r],"chinese-elegant":r<4}])},A(c),3))),128))])])]))}},j=h(N,[["__scopeId","data-v-86cd7368"]]),F=_("/videos/hero-video.webm"),H=_("/videos/hero-video.mp4"),I=_("/videos/hero-video2.webm"),P={class:"homepage"},S={class:"video-section"},U={class:"video-container"},W={class:"welcome-overlay"},z={__name:"index",setup(g){const s=l(null),a=l(null);let n=1,i=!1;C({title:"首页 - 依木然的个人网站",meta:[{name:"description",content:"专为理工科大学生设计的个人品牌网站，展示技术项目历程、竞赛作品和摄影创作"}]});const d=async()=>{if(i)return;i=!0;const o=n===1?s.value:a.value,e=n===1?a.value:s.value;e.readyState<2&&(e.load(),await new Promise(c=>{e.addEventListener("loadeddata",c,{once:!0})})),o.classList.remove("active"),e.classList.add("active"),e.currentTime=0,await e.play().catch(console.error),setTimeout(()=>{o.pause(),o.currentTime=0},1e3),n=n===1?2:1,i=!1};return y(()=>{document.body.style.overflow="hidden";const o=e=>{e&&(e.muted=!0,e.preload="auto",e.addEventListener("canplay",()=>{e.classList.contains("active")&&(e.style.opacity="1")}),e.addEventListener("ended",()=>{d()}),e.addEventListener("loadeddata",()=>{e===s.value&&n===1&&e.play().catch(console.error)}))};s.value&&o(s.value),a.value&&o(a.value),document.addEventListener("visibilitychange",()=>{if(!document.hidden){const e=n===1?s.value:a.value;e&&e.paused&&e.play().catch(console.error)}})}),w(()=>{document.body.style.overflow="auto"}),(o,e)=>{const c=b,r=j;return m(),u("div",P,[p(c),t("div",S,[t("div",U,[t("video",{ref_key:"video1",ref:s,autoplay:"",muted:"",playsinline:"",preload:"auto",class:"hero-video active"},e[0]||(e[0]=[t("source",{src:F,type:"video/webm"},null,-1),t("source",{src:H,type:"video/mp4"},null,-1),f(" 您的浏览器不支持视频播放，请升级浏览器或使用现代浏览器访问 ",-1)]),512),t("video",{ref_key:"video2",ref:a,muted:"",playsinline:"",preload:"auto",class:"hero-video"},e[1]||(e[1]=[t("source",{src:I,type:"video/webm"},null,-1),f(" 您的浏览器不支持视频播放，请升级浏览器或使用现代浏览器访问 ",-1)]),512),t("div",W,[p(r)])])]),e[2]||(e[2]=t("footer",{class:"bottom-copyright"},[t("p",{class:"copyright-text"},"© 2025 依木热尼江·买买提明. 个人网站")],-1))])}}},J=h(z,[["__scopeId","data-v-8650fff3"]]);export{J as default};
